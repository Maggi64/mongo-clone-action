name: 'mongo-clone-action'
description: 'Github action to trigger mongoDB database clones via mongodump & mongorestore'
inputs:
  connection-uri-source:
    description: 'MongoDB connect url that includes username, password & database name you want to clone from'
    required: true
  connection-uri-target:
    description: 'MongoDB connect url that includes username, password & database name you want to clone to'
    required: true
runs:
  using: "composite"
  steps:
    - name: Install mongodb-tools
      run: sudo apt install mongo-tools
      shell: bash
    - name: Clone Database
      run: ${{ github.action_path }}/clone.sh ${{ connection-uri-source }} ${{ connection-uri-target }}
      shell: bash